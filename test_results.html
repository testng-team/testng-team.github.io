<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Test results</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_test_results">Test results</a>
<ul class="sectlevel2">
<li><a href="#_success_failure_and_assert">Success, failure and assert</a></li>
<li><a href="#_logging_and_results">Logging and results</a></li>
<li><a href="#_logging_listeners">Logging Listeners</a></li>
<li><a href="#_logging_reporters">Logging Reporters</a></li>
<li><a href="#_junit_reports">JUnit Reports</a></li>
<li><a href="#_reporter_api">Reporter API</a></li>
<li><a href="#_xml_reports">XML Reports</a></li>
<li><a href="#_testng_exit_codes">TestNG Exit Codes</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_test_results">Test results</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_success_failure_and_assert">Success, failure and assert</h3>
<div class="paragraph">
<p>A test is considered successful if it completed without throwing any exception or if  it threw an exception that was expected (see the documentation for the expectedExceptions attribute found on the <code>@Test</code> annotation).</p>
</div>
<div class="paragraph">
<p>Your test methods will typically be made of calls that can throw an exception, or of various assertions (using the Java <code>assert</code> keyword).
An <code>assert</code> failing will trigger an <code>AssertionError</code>, which in turn will mark the method as failed (remember to use <code>-ea</code> on the JVM if you are not seeing the assertion errors).</p>
</div>
<div class="paragraph">
<p>Here is an example test method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Test
public void verifyLastName() {
  assert "Beust".equals(m_lastName) : "Expected name Beust, for" + m_lastName;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>TestNG also include JUnit&#8217;s Assert class, which lets you perform assertions on complex objects:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">import static org.testng.AssertJUnit.*;
//...
@Test
public void verify() {
  assertEquals("Beust", m_lastName);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the above code use a static import in order to be able to use the <code>assertEquals</code> method without having to prefix it by its class.</p>
</div>
</div>
<div class="sect2">
<h3 id="_logging_and_results">Logging and results</h3>
<div class="paragraph">
<p>The results of the test run are created in a file called index.html in the directory specified when launching SuiteRunner.This file points to various other HTML and text files that contain the result of the entire test run.</p>
</div>
<div class="paragraph">
<p>It&#8217;s very easy to generate your own reports with TestNG with Listeners and Reporters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Listeners</code> implement the interface {javadocs-base-url}/org/testng/ITestListener.html[org.testng.ITestListener] and are notified in real time of when a test starts, passes, fails, etc&#8230;&#8203;</p>
</li>
<li>
<p><code>Reporters</code> implement the interface {javadocs-base-url}/org/testng/IReporter.html[org.testng.IReporter] and are notified when all the suites have been run by TestNG.The <code>IReporter</code> instance receives a list of objects that describe the entire test run.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, if you want to generate a PDF report of your test run, you don&#8217;t need to be notified in real time of the test run so you should probably use an <code>IReporter</code>.If you&#8217;d like to write a real-time reporting of your tests, such as a GUI with a progress bar or a text reporter displaying dots (".") as each test is invoked (as is explained below), <code>ITestListener</code> is your best choice.</p>
</div>
</div>
<div class="sect2">
<h3 id="_logging_listeners">Logging Listeners</h3>
<div class="paragraph">
<p>Here is a listener that displays a <code>"."</code> for each passed test, a <code>"F"</code> for each failure and a <code>"S"</code> for each skip:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class DotTestListener extends TestListenerAdapter {
  private int m_count = 0;

  @Override
  public void onTestFailure(ITestResult tr) {
    log("F");
  }

  @Override
  public void onTestSkipped(ITestResult tr) {
    log("S");
  }

  @Override
  public void onTestSuccess(ITestResult tr) {
    log(".");
  }

  private void log(String string) {
    System.out.print(string);
    if (++m_count % 40 == 0) {
      System.out.println(" ");
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, I chose to extend {javadocs-base-url}/org/testng/TestListenerAdapter.html[TestListenerAdapter], which implements {javadocs-base-url}/org/testng/ITestListener.html[ITestListener] with empty methods, so I don&#8217;t have to override other methods from the interface that I have no interest in. You can implement the interface directly if you prefer.</p>
</div>
<div class="paragraph">
<p>Here is how I invoke TestNG to use this new listener:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">java -classpath testng.jar;%CLASSPATH% org.testng.TestNG -listener org.testng.reporters.DotTestListener test\testng.xml</code></pre>
</div>
</div>
<div class="paragraph">
<p>and the output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">........................................
........................................
........................................
........................................
........................................
.........................
===============================================
Total tests run: 226, Failures: 0, Skips: 0
===============================================</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
When you use <code>-listener</code>, TestNG will automatically determine the type of listener you want to use.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_logging_reporters">Logging Reporters</h3>
<div class="paragraph">
<p>The <code>org.testng.IReporter</code> interface only has one method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public void generateReport(List&lt;ISuite&gt; suites, String outputDirectory);</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method will be invoked by TestNG when all the suites have been run and you can inspect its parameters to access all the information on the run that was just completed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_junit_reports">JUnit Reports</h3>
<div class="paragraph">
<p>TestNG contains a listener that takes the TestNG results and outputs an XML file that can then be fed to JUnitReport (below is an example of the <code>junitreport</code> ant task.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;target name="reports"&gt;
  &lt;junitreport todir="test-report"&gt;
    &lt;fileset dir="test-output"&gt;
      &lt;include name="*/*.xml"/&gt;
    &lt;/fileset&gt;

    &lt;report format="noframes"  todir="test-report"/&gt;
  &lt;/junitreport&gt;
&lt;/target&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_reporter_api">Reporter API</h3>
<div class="paragraph">
<p>If you need to log messages that should appear in the generated HTML reports, you can use the class {javadocs-base-url}/org/testng/Reporter.html[org.testng.Reporter] :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">Reporter.log("M3 WAS CALLED");</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="pics/show-output1.png" alt="show output1">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="pics/show-output2.png" alt="show output2">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_xml_reports">XML Reports</h3>
<div class="paragraph">
<p>TestNG offers an XML reporter capturing TestNG specific information that is not available in JUnit reports. This is particularly useful when the user&#8217;s test environment needs to consume XML results with TestNG-specific data that the JUnit format can&#8217;t provide. This reporter can be injected into TestNG via the command line with -reporter.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s a sample usage:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">-reporter org.testng.reporters.XMLReporter:generateTestResultAttributes=true,generateGroupsAttribute=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>The full set of options that can be passed is detailed in the below table. Make sure to use :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>:</code> - to separate the reporter name from its properties</p>
</li>
<li>
<p><code>=</code> - to separate key/value pairs for properties</p>
</li>
<li>
<p><code>,</code> - to separate multiple key/value pairs</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Below is a sample of the output of such a reporter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;testng-results&gt;
    &lt;suite name="Suite1"&gt;
        &lt;groups&gt;
            &lt;group name="group1"&gt;
                &lt;method signature="com.test.TestOne.test2()" name="test2" class="com.test.TestOne"/&gt;
                &lt;method signature="com.test.TestOne.test1()" name="test1" class="com.test.TestOne"/&gt;
            &lt;/group&gt;
            &lt;group name="group2"&gt;
                &lt;method signature="com.test.TestOne.test2()" name="test2" class="com.test.TestOne"/&gt;
            &lt;/group&gt;
        &lt;/groups&gt;
        &lt;test name="test1"&gt;
            &lt;class name="com.test.TestOne"&gt;
                &lt;test-method status="FAIL" signature="test1()" name="test1" duration-ms="0"
                             started-at="2007-05-28T12:14:37Z" description="someDescription2"
                             finished-at="2007-05-28T12:14:37Z"&gt;
                    &lt;exception class="java.lang.AssertionError"&gt;
                        &lt;short-stacktrace&gt;
                            &lt;![CDATA[
                java.lang.AssertionError
                ... Removed 22 stack frames
              ]]&gt;
                        &lt;/short-stacktrace&gt;
                    &lt;/exception&gt;
                &lt;/test-method&gt;
                &lt;test-method status="PASS" signature="test2()" name="test2" duration-ms="0"
                             started-at="2007-05-28T12:14:37Z" description="someDescription1"
                             finished-at="2007-05-28T12:14:37Z"&gt;
                &lt;/test-method&gt;
                &lt;test-method status="PASS" signature="setUp()" name="setUp" is-config="true" duration-ms="15"
                             started-at="2007-05-28T12:14:37Z" finished-at="2007-05-28T12:14:37Z"&gt;
                &lt;/test-method&gt;
            &lt;/class&gt;
        &lt;/test&gt;
    &lt;/suite&gt;
&lt;/testng-results&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This reporter is injected along with the other default listeners so you can get this type of output by default. The listener provides some properties that can tweak the reporter to fit your needs. The following table contains a list of these properties with a short explanation:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Comment</th>
<th class="tableblock halign-left valign-top">Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>outputDirectory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A String indicating the directory where should the XML files be output.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The TestNG output directory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timestampFormat</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the format of date fields that are generated by this reporter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yyyy-MM-dd&#8217;T&#8217;HH:mm:ss&#8217;Z'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fileFragmentationLevel</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An integer having the values <code>1</code>, <code>2</code> or <code>3</code>, indicating the way that the XML files are generated:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>1</code> - will generate all the results in one file.</p>
</li>
<li>
<p><code>2</code> - each suite is generated in a separate XML file that is linked to the main file.</p>
</li>
<li>
<p><code>3</code> - same as 2 plus separate files for test-cases that are referenced from the suite files.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>splitClassAndPackageNames</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>This boolean specifies the way that class names are generated for the <code>&lt;class&gt;</code> element. For example,
* you will get <code>&lt;class class="com.test.MyTest"&gt;</code> for` <code>false</code> and
* <code>&lt;class class="MyTest" package="com.test"&gt;</code> for <code>true</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>generateGroupsAttribute</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A boolean indicating if a groups attribute should be generated for the <code>&lt;test-method&gt;</code> element. This feature aims at providing a straight-forward method of retrieving the groups that include a test method without having to surf through the &lt;group&gt; elements.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>generateTestResultAttributes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A boolean indicating if an <code>&lt;attributes&gt;</code> tag should be generated for each <code>&lt;test-method&gt;</code> element, containing the test result attributes (See <code>ITestResult.setAttribute()</code> about setting test result attributes). Each attribute <code>toString()</code> representation will be written in a <code>&lt;attribute name="[attribute name]"&gt;</code> tag.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>stackTraceOutputMethod</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the type of stack trace that is to be generated for exceptions and has the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>0</code> - no stacktrace (just Exception class and message).</p>
</li>
<li>
<p><code>1</code> - a short version of the stack trace keeping just a few lines from the top</p>
</li>
<li>
<p><code>2</code> - the complete stacktrace with all the inner exceptions</p>
</li>
<li>
<p><code>3</code> - both short and long stacktrace</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>generateDependsOnMethods</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use this attribute to enable/disable the generation of a depends-on-methods attribute for the <code>&lt;test-method&gt;</code> element.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>generateDependsOnGroups</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable/disable the generation of a depends-on-groups attribute for the <code>&lt;test-method&gt;</code> element.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In order to configure this reporter you can use the <code>-reporter</code> option in the command line or the Ant task with the nested <code>&lt;reporter&gt;</code> element. For each of these you must specify the class <code>org.testng.reporters.XMLReporter</code>. Please note that you cannot configure the built-in reporter because this one will only use default settings. If you need just the XML report with custom settings you will have to add it manually with one of the two methods and disable the default listeners.</p>
</div>
</div>
<div class="sect2">
<h3 id="_testng_exit_codes">TestNG Exit Codes</h3>
<div class="paragraph">
<p>When TestNG completes execution, it exits with a return code.
This return code can be inspected to get an idea on the nature of failures (if there were any).
The following table summarises the different exit codes that TestNG currently uses.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">FailedWithinSuccess</th>
<th class="tableblock halign-left valign-top">Skipped</th>
<th class="tableblock halign-left valign-top">Failed</th>
<th class="tableblock halign-left valign-top">Status Code</th>
<th class="tableblock halign-left valign-top">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Column 1, row 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Column 2, row 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Column 3, row 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Column 4, row 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Column 5, row 1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Passed tests</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Failed tests</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Skipped tests</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Skipped/Failed tests</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FailedWithinSuccess tests</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FailedWithinSuccess/Failed tests</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FailedWithinSuccess/Skipped tests</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FailedWithinSuccess/Skipped/Failed tests</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-01-19 03:21:06 UTC
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.min.js"></script>
</body>
</html>